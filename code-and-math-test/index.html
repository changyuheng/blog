<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Code and Math Test | A Programmer’s Blog</title>
  <meta name="description" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="/css/component.css" />
  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <meta name="generator" content="A Programmer’s Blog">
  
  
  

  

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</head>
<body>
<div class="container">
    <div class="mp-pusher" id="mp-pusher">
        <i id="scroll-up" class="fa fa-angle-up"></i>
        <nav id="mp-menu" class="mp-menu">
            <div class="mp-level">
                <a data-pjax class="back-home" style="font-size: 20px" href="/"><h2 ><i class="fa fa-home"></i>
                        Home</h2></a>
                <ul class="first-level">
                    <li>
                        <a class="fa fa-archive" href="#"><i class="fa fa-angle-left">
                            </i>&nbsp;&nbsp;Archive</a>
                        <div class="mp-level page-list">
                            <h2 ><i class="fa fa-archive"></i>
                                Archive</h2>
                            <a class="mp-back" href="#">back</a>
                            <form id="search-form" action="">
                                <input type="text" class="search search-archive" placeholder="Search.."/>
                            </form>
                            <ul>
                                <div class="mp-scroll">
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/code-and-math-test/">Code and Math Test</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/my-ubuntu-gnome-tweaks/">My Ubuntu GNOME Tweaks</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/hello-world/">Hello World</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/codeforces-problem-1b/">Codeforces Problem 1B</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/gnome-36-yu-kde-410-yu-gong-zuo-chang-suo-shi-yong-nian-xin-de/">Gnome 3.6 與 KDE 4.10 於工作場所使用一年心得</a>
                                </li>
                                
                                </div>
                            </ul>
                        </div>
                    </li>
                    
                    
                    <li>
                        <a class="fa fa-tags" href="#"><i class="fa fa-angle-left">
                            </i>&nbsp;&nbsp;Tags</a>
                        <div class="mp-level page-list">
                            <h2 ><i class="fa fa-tags"></i>
                                Tags</h2>
                            <a class="mp-back" href="#">back</a>
                            <form id="search-form" action="">
                                <input type="text" class="search search-tag" placeholder="Search.."/>
                            </form>
                            <ul>
                                <div class="mp-scroll">
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/algorithm/">&nbsp;&nbsp;&nbsp;Algorithm</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/software/">&nbsp;&nbsp;&nbsp;Software</a>
                                    <small>1</small>
                                </li>
                                
                                </div>
                            </ul>
                        </div>
                    </li>
                    
                    
                    <li class="mp-pjax"><a class="fa fa-user" href="/about">&nbsp;&nbsp;&nbsp;About me</a></li>
                    <li><a class="fa fa-github" href='http://github.com/changyuheng'>&nbsp;&nbsp;&nbsp;Github</a></li>

                </ul>

            </div>
        </nav>
        <div id="pjax">
            <div class="pjax-hidden" style="display: none">
                
                    <a  data-pjax href="/code-and-math-test/">Code and Math Test</a>
                
                    <a  data-pjax href="/my-ubuntu-gnome-tweaks/">My Ubuntu GNOME Tweaks</a>
                
                    <a  data-pjax href="/hello-world/">Hello World</a>
                
                    <a  data-pjax href="/codeforces-problem-1b/">Codeforces Problem 1B</a>
                
                    <a  data-pjax href="/gnome-36-yu-kde-410-yu-gong-zuo-chang-suo-shi-yong-nian-xin-de/">Gnome 3.6 與 KDE 4.10 於工作場所使用一年心得</a>
                
                
                
                    <a data-pjax href="/tags/algorithm/">&nbsp;&nbsp;Algorithm</a>
                
                    <a data-pjax href="/tags/software/">&nbsp;&nbsp;Software</a>
                
                <a data-pjax class="fa fa-user" href="/about">&nbsp;&nbsp;&nbsp;About me</a>
            </div>
            <nav class="nexus">
                <li  style="border-left: 1px solid #c6d0da;">
                    <a id="trigger" href="#"><i class="fa fa-bars"></i></a>
                </li>
                <li ><a id="nexus-back" data-pjax href="/">A Programmer’s Blog</a></li>
                
                <div id="nav-container">
                    <div class="post-navbar" style="line-height: 63px;display:none">
                        <li id="navbar-title"><a href="#">Code and Math Test</a></li>
                        <li id="navbar-toc" style="border-left: none">
                            <a style="padding-right: 15px">
                                <span id="toc-content" >Introduction</span><i class="fa fa-chevron-down" ></i>
                            </a>
                            <div class="hidden-box">
                                <ul id="toc"></ul>
                            </div>
                        </li>
                    </div>
                </div>
                
            </nav>

            <div class="scroller">
            <div class="scroller-inner">


<!-- -->
<!--<body class="post-template">-->
<!---->
  

<main class="content" role="main">
    <article class="post" >
    <span class="post-meta">
                  <div class="tag-tile">
                      
                  </div>
                <h1 class="post-title" style="margin: 14px 0;color:#50585D">Code and Math Test</h1>

                    <div class="post-meta">
                        Post on<span class="fa fa-clock-o"></span>
                        <time datetime="2014-07-30T01:49:14.000Z"
                              itemprop="datePublished">Jul 30 2014</time>
                    </div>
    </span>

        <section class="post-content">
            <blockquote>

<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque hendrerit lacus ut purus iaculis feugiat. Sed nec tempor elit, quis aliquam neque. Curabitur sed diam eget dolor fermentum semper at eu lorem.</p>
</blockquote>


<blockquote>

<p>Do not just seek happiness for yourself. Seek happiness for all. Through kindness. Through mercy.</p>
<footer><strong>David Levithan</strong><cite>Wide Awake</cite></footer></blockquote>


<blockquote>

<p>NEW: DevDocs now comes with syntax highlighting. <a href="http://devdocs.io">http://devdocs.io</a></p>
<footer><strong>@DevDocs</strong><cite><a href="https://twitter.com/devdocs/status/356095192085962752">twitter.com/devdocs/status/&hellip;</a></cite></footer></blockquote>


<blockquote>

<p>Every interaction is both precious and an opportunity to delight.</p>
<footer><strong>Seth Godin</strong><cite><a href="http://sethgodin.typepad.com/seths_blog/2009/07/welcome-to-island-marketing.html">Welcome to Island Marketing</a></cite></footer></blockquote>


<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#<span class="keyword">include</span> &lt;string.h&gt;</span></div><div class="line"><span class="keyword">void</span> reverse_char_array(<span class="keyword">char</span> * first, <span class="keyword">char</span> * last) {</div><div class="line">    <span class="keyword">while</span> (first != last &amp;&amp; first != --last) {</div><div class="line">        *first ^= *last;</div><div class="line">        *last ^= *first;</div><div class="line">        *first++ ^= *last;</div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="keyword">void</span> reverse_string(<span class="keyword">char</span> * sentence) {</div><div class="line">    reverse_char_array(sentence, &amp;sentence[<span class="built_in">strlen</span>(sentence)]);</div><div class="line">}</div><div class="line"><span class="keyword">void</span> reverse_word(<span class="keyword">char</span> * sentence) {</div><div class="line">    <span class="keyword">char</span> * end_s = &amp;sentence[<span class="built_in">strlen</span>(sentence)], * end_w;</div><div class="line">    <span class="keyword">while</span> (end_w != end_s) {</div><div class="line">        <span class="keyword">if</span> (!(end_w = <span class="built_in">strchr</span>(sentence, <span class="string">' '</span>))) end_w = end_s;</div><div class="line">        reverse_char_array(sentence, end_w);</div><div class="line">        sentence = end_w + <span class="number">1</span>;</div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">char</span> ** argv) {</div><div class="line">    <span class="keyword">char</span> sentence[] = <span class="string">"how are you"</span>;</div><div class="line">    reverse_string(sentence);</div><div class="line">    reverse_word(sentence);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, sentence);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>

<figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="keyword">import</span> Queue</div><div class="line"><span class="keyword">import</span> argparse</div><div class="line"><span class="keyword">import</span> os</div><div class="line"><span class="keyword">import</span> random</div><div class="line"><span class="keyword">import</span> subprocess</div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">import</span> threading</div><div class="line"><span class="keyword">import</span> time</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tester</span><span class="params">(threading.Thread)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, testee, answer_queue, counter_queue)</span>:</span></div><div class="line">        threading.Thread.__init__(self)</div><div class="line">        self.testee = testee</div><div class="line">        self.answer_queue = answer_queue</div><div class="line">        self.counter_queue = counter_queue</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">            ans = self.answer_queue.get()</div><div class="line">            counter = <span class="number">1</span></div><div class="line">            p = subprocess.Popen(self.testee,</div><div class="line">                    stdin=subprocess.PIPE, stdout=subprocess.PIPE)</div><div class="line">            <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">                guess = p.stdout.readline().strip()</div><div class="line">                bulls = sum(<span class="number">1</span> <span class="keyword">for</span> i, j <span class="keyword">in</span> zip(ans, guess) <span class="keyword">if</span> i == j)</div><div class="line">                cows = sum(<span class="number">1</span> <span class="keyword">for</span> i, j <span class="keyword">in</span> zip(ans, guess)<span class="keyword">if</span> i != j <span class="keyword">and</span> j <span class="keyword">in</span> ans)</div><div class="line">                score = str(bulls) + <span class="string">'a'</span> + str(cows) + <span class="string">'b'</span> + <span class="string">'\n'</span></div><div class="line">                p.stdin.write(score)</div><div class="line">                <span class="keyword">if</span> bulls == <span class="number">4</span>:</div><div class="line">                    self.answer_queue.task_done()</div><div class="line">                    self.counter_queue.put(counter)</div><div class="line">                    counter = <span class="number">1</span></div><div class="line">                    <span class="keyword">break</span></div><div class="line">                counter += <span class="number">1</span></div><div class="line">            <span class="keyword">if</span> self.answer_queue.empty():</div><div class="line">                <span class="keyword">break</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_args</span><span class="params">()</span>:</span></div><div class="line">    args_parser = argparse.ArgumentParser(</div><div class="line">            formatter_class=argparse.RawDescriptionHelpFormatter,</div><div class="line">            description=<span class="string">'Profile a bulls-and-cows guesser.'</span>,</div><div class="line">            epilog=<span class="string">'EXAMPLE:\n'</span> \</div><div class="line">                    <span class="string">"  {} -j 8 './bulls-and-cows-guesser.py'"</span>.format(os.path.basename(__file__))</div><div class="line">                    )</div><div class="line">    args_parser.add_argument(<span class="string">'testee'</span> , metavar=<span class="string">'TESTEE'</span>,</div><div class="line">            help=<span class="string">'the guesser you want to evaluate'</span>)</div><div class="line">    args_parser.add_argument(<span class="string">'-j'</span>, <span class="string">'--jobs'</span>, metavar=<span class="string">'N'</span>, type=int, default=<span class="number">1</span>,</div><div class="line">            help=<span class="string">'allow N jobs at once'</span>)</div><div class="line">    args_parser.add_argument(<span class="string">'--no-shuffle'</span>, action=<span class="string">'store_true'</span>,</div><div class="line">            help=<span class="string">'do not shuffle the test casees'</span>)</div><div class="line">    <span class="keyword">return</span> args_parser.parse_args()</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_all_answers</span><span class="params">(shuffle)</span>:</span></div><div class="line">    answer_candidates = [str(i) + str(j) + str(k) + str(l) \</div><div class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">0</span>, <span class="number">10</span>) <span class="keyword">for</span> j <span class="keyword">in</span> xrange(<span class="number">0</span>, <span class="number">10</span>) \</div><div class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> xrange(<span class="number">0</span>, <span class="number">10</span>) <span class="keyword">for</span> l <span class="keyword">in</span> xrange(<span class="number">0</span>, <span class="number">10</span>) \</div><div class="line">                <span class="keyword">if</span> len(set(str(i) + str(j) + str(k) + str(l))) == <span class="number">4</span>]</div><div class="line"></div><div class="line">    <span class="keyword">if</span> shuffle:</div><div class="line">        random.shuffle(answer_candidates)</div><div class="line"></div><div class="line">    <span class="keyword">return</span> answer_candidates</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    args = get_args()</div><div class="line">    answer_candidates = get_all_answers(<span class="keyword">not</span> args.no_shuffle)</div><div class="line"></div><div class="line">    answer_queue = Queue.Queue()</div><div class="line">    counter_queue = Queue.Queue()</div><div class="line">    <span class="keyword">for</span> ans <span class="keyword">in</span> answer_candidates:</div><div class="line">        answer_queue.put(ans)</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> xrange(args.jobs):</div><div class="line">        t = Tester(args.testee, answer_queue, counter_queue)</div><div class="line">        t.daemon = <span class="keyword">True</span></div><div class="line">        t.start()</div><div class="line"></div><div class="line">    answer_queue.join()</div><div class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">        <span class="keyword">if</span> counter_queue.qsize() == len(answer_candidates):</div><div class="line">            <span class="keyword">break</span></div><div class="line"></div><div class="line">    counter = []</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> xrange(len(answer_candidates)):</div><div class="line">        counter.append(counter_queue.get())</div><div class="line"></div><div class="line">    <span class="keyword">print</span> <span class="string">'avg: '</span>, float(sum(counter)) / len(counter)</div><div class="line">    d = {}</div><div class="line">    <span class="keyword">for</span> v <span class="keyword">in</span> counter:</div><div class="line">        <span class="keyword">if</span> v <span class="keyword">not</span> <span class="keyword">in</span> d:</div><div class="line">            d[v] = <span class="number">1</span></div><div class="line">            <span class="keyword">continue</span></div><div class="line">        d[v] += <span class="number">1</span></div><div class="line">    <span class="keyword">print</span> str(d)[<span class="number">1</span>:len(str(d))-<span class="number">1</span>]</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    main()</div></pre></td></tr></table></figure>

<figure class="highlight"><figcaption><span>.compact</span><a href="http://underscorejs.org/#compact">Underscore.js</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">.compact([<span class="number">0</span>, <span class="number">1</span>, <span class="keyword">false</span>, <span class="number">2</span>, ‘’, <span class="number">3</span>]);</div><div class="line"><span class="output"><span class="status">=&gt;</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span></div></pre></td></tr></table></figure>

<script src="https://gist.github.com/9265765.js"></script>

<p>$a = b + c$<br>$A = B + C$</p>
<p>$$\frac{\partial u}{\partial t}<br>= h^2 \left( \frac{\partial^2 u}{\partial x^2} +<br>\frac{\partial^2 u}{\partial y^2} +<br>\frac{\partial^2 u}{\partial z^2}\right)$$</p>
<p>This equation <span>$\cos 2\theta = \cos^2 \theta - \sin^2 \theta =  2 \cos^2 \theta - 1$</span> is inline.</p>
<span>$$\begin{aligned}
\dot{x} & = \sigma(y-x) \\
\dot{y} & = \rho x - y - xz \\
\dot{z} & = -\beta z + xy
\end{aligned}$$</span>

        </section>
        <hr/>
        <nav class="pagination" style="width:auto" role="pagination">
            
            <a style="cursor:default" class="newer-posts" href="#">This is the First Post</a>
            
            <a class="share-button" data-original-title title>Share this Post</a>
            
            <a data-pjax class="older-posts" href="/my-ubuntu-gnome-tweaks/">Next Post →</a>
            
        </nav>
        <section id="comment">
            <div id="comment-box"></div>
            
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                if (document.URL.indexOf('://localhost') === -1) {
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = 'aprogrammersblog';

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                }
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            
        </section>


    </article>
</main>


  
<footer class="site-footer">
    
    <div class="inner">
        <section class="copyright"><a href="/"></a> &copy; A Programmer’s Blog 2014</section>
        <section class="poweredby">Published with <a target="_blank" href="http://hexo.io/">Hexo   </a> and Theme by <a target="_blank" href="https://github.com/yuche/hexo-theme-kael">Kael</a></section>
    </div>
</footer>
</div>
</div><!-- /scroller -->

</div><!-- /pusher -->
</div><!-- /container -->
</div>

<!-- Easter eggs -->

<div class="egg animated">
    <a id="close-button" href="#">X</a>
    <div class="block">
        <div class="loading">
            <span class="ball1"></span>
            <span class="ball2"></span>
        </div>
    </div>
</div>
  
<script src="//cdn.staticfile.org/jquery/1.11.0/jquery.min.js"></script>
<script>
    if (!window.jQuery) {
        var script = document.createElement('script');
        script.src = "/js/jquery.min.js";
        document.body.appendChild(script);
    }
</script>
<script type="text/javascript" src="/js/lib.js"></script>
<script type="text/javascript" src="/js/main.js"></script>






</body>
</html>
